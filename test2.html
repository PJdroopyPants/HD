<!DOCTYPE HTML>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="The Human Design System integrated into an astrology clock along with the I-Ching gates.">
<title>The Human Design</title>

<style type="text/css">

*,
*:before,
*:after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
html {
  scroll-behavior: smooth;
}
body{
	margin:0 auto;
	width:100%;
	background-color:#272727;
	font-size: 100%;
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-khtml-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	-webkit-transform: translateZ(0);
	-moz-transform: translateZ(0);
	-ms-transform: translateZ(0);
	-o-transform: translateZ(0);
	transform: translateZ(0);
	-moz-transition: all 1s;
	-webkit-transition: all 1s;
	-o-transition: all 1s;
	transition: all 1s;
}
#allWrapit{
display:block;
position:relative;	
}
#coverUp {
	display:block;
	position:absolute;
	left:0;
	top:0;
	right:0;
	bottom:0;
	width:100%;
	height:100%;
	background-color:#272727;
	z-index:999;
	pointer-events:none;	
}
#footerWrapper {
	display:block;
	position: absolute;
	top:0;
	left:0;
	right:0;
	bottom:0;
	height:1080px;
	width:1080px;
	max-height:1080px;
	max-width:1080px;
	transform-origin: 0% 0%;
	margin:0 auto;
}
#footerSpacer {
	display:block;
	position: relative;
	height:120vh;
	margin-top:-120vh;
	width:100vw;
	background-color:#272727;
	z-index:9999;
	box-shadow: 0px 6px 5px 0px rgba(0, 0, 0, 0.3),
				inset 0px -9px 9px rgba(0, 0, 0, 0.1);
	border:0;
	border-bottom:2px solid #d4af37;
}
#canvaswrapper{
	display:block;
	position:relative;
	max-height:1080px;
	max-width:1080px;
	margin:0 auto;
	z-index:99;
}
#canvas{
	display:block;
	position:absolute;
	background-image: url('/img/HumanDesignClockGoldAlt.svg?v=fucssak256');
	background-position: center;
	background-repeat: no-repeat;
	/*background-size: 1080px 1080px;*/
	background-size: contain;
	height:1080px;
	width:1080px;
	top:0;
	left:0;
}
#canvasTop{
	display:block;
	position:absolute;
	background-image: url('/img/HumanDesignClockGoldAltTopAlt.svg?v=mehard26s5');
	background-position: center;
	background-repeat: no-repeat;
	/*background-size: 1080px 1080px;*/
	background-size: contain;
	height:1080px;
	width:1080px;
	top:0;
	left:0;
	pointer-events:none;
}
.smallSpacer{
	display:block;
	position:relative;
	height:5vh;
}
.mediumSpacer{
	display:block;
	position:relative;
	height:10vh;
}
.largeSpacer{
	display:block;
	position:relative;
	height:25vh;
}

</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollToPlugin.min.js"></script>
<script src="/js/greenmin/ScrollSmoother.min.js"></script>
<script src="/js/greenmin/SplitText.min.js"></script>
<script src="/js/greenmin/MorphSVGPlugin.min.js"></script>
</head>
<body>
<div id="allWrapit">
    <!--<div id="footerSpacer"></div>-->
    <div id="coverUp"></div>
    <div id="footerWrapper">
		<div id="canvaswrapper">
		<canvas id="canvas" height="1080" width="1080"></canvas>
		<div id="canvasTop"></div>
    </div>
	</div>
</div>
<script>
let footerWrapper = document.getElementById('footerWrapper'),
        wrapper = document.getElementById('canvaswrapper'),
        cover = document.getElementById('coverUp'),
        maxWidth  = footerWrapper.clientWidth,
        maxHeight = footerWrapper.clientHeight;
window.addEventListener("resize", resize);
window.addEventListener("load", resize);
resize();
TweenLite.to(cover, 1, {autoAlpha:0});
function resize(){let scale,
    width = window.innerWidth,
	height = window.innerHeight,
	isMax = width >= maxWidth && height >= maxHeight;

    scale = Math.min(width/maxWidth, height/maxHeight);
    footerWrapper.style.transform = isMax?'':'scale(' + scale + ')';
    wrapper.style.width = isMax?'':maxWidth * scale;
    wrapper.style.height = isMax?'':maxHeight * scale;
}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	

requestAnimationFrame(mainLoop);

function generateGateLineObject() {
  const gateLineObject = [];
  const gateValues = [41, 41, 41, 41, 41, 41, 19, 19, 19, 19, 19, 19, 13, 13, 13, 13, 13, 13, 49, 49, 49, 49, 49, 49, 30, 30, 30, 30, 30, 30, 55, 55, 55, 55, 55, 55, 37, 37, 37,
    37, 37, 37, 63, 63, 63, 63, 63, 63, 22, 22, 22, 22, 22, 22, 36, 36, 36, 36, 36, 36];

    let angle = Math.PI / -2;
    const angleStep = Math.PI / (gateValues.length * 2);

    for (let i = 0; i < gateValues.length; i++) {
      for (let j = 1; j <= 6; j++) {
        gateLineObject.push({
          gate: gateValues[i] + (j * 0.1),
          angle: parseFloat(angle.toFixed(4))
        });
        angle += angleStep;
      }
    }

    return gateLineObject;
}

const gateLineObject = generateGateLineObject();

var sunSym    		= 1, // planet symbol paths
	earLunSym 		= 1,
	nnodeSym 		= 1,
	snodeSym 		= 1,
	plutoSym 		= 1,
	nepSyn  		= 1,
	uraSyn 		    = 1,
	satSyn  		= 1,
	jupSyn  		= 1,
	marSyn  		= 1,
	venSyn   		= 1,
	merSyn   		= 1,
	mooSyn  		= 1,
	earSyn 		    = 1,

	pace=33,
	sunMoved=false,
	paused=false;
const ctx = canvas.getContext("2d");
const TAU = Math.PI * 2;
const centerOnPlanetName = "EarthLine";
const globalMatrix = [1,0,0,1,0,0];
const solSystem = {};
const planets = [];
const planetCommon = {
      x: 0, y: 0, cos: 1, sin: 0,
      update(time) {
		this.ang = this.startAng - this.orbitalSpeed/pace * time;
        this.cos = Math.cos(this.ang);
        this.sin = Math.sin(this.ang);
        if (this.orbits && this.maxDist == 0) {
            this.x = this.orbits.x + this.cos * this.dist;
            this.y = this.orbits.y + this.sin * this.dist;
        } else if (this.orbits && this.maxDist > 0 && this.distTo > this.maxDist) {
			this.dist=this.dist-(this.distTo-this.maxDist);
            this.x = this.orbits.x + this.cos * this.dist;
            this.y = this.orbits.y + this.sin * this.dist;
        }else  if (this.orbits && this.maxDist > 0 && this.distTo < this.maxDist && sunMoved==true) {
			this.dist=this.dist+(this.maxDist-this.distTo);
            this.x = this.orbits.x + this.cos * this.dist;
            this.y = this.orbits.y + this.sin * this.dist;
		}else  if (this.orbits && this.maxDist > 0 && sunMoved==false) {
			//this.dist=this.dist;
            this.x = this.orbits.x + this.cos * this.dist;
            this.y = this.orbits.y + this.sin * this.dist;
		}
     },
	draw(ctx, globalMat) {

		ctx.setTransform(...globalMat);
		ctx.transform(this.cos, this.sin, -this.sin, this.cos, this.x, this.y);
		if (this.type === 1){ // planet, lunar, node symbols			
			setShadow(ctx, "rgba(0,0,0,0.8)", 0, 7, 8, -this.ang);
			symbo(this.symbo, this.fill,this.stroke, -this.ang);
		}else if (this.type === 7){ // moon and nodes
			setShadow(ctx, "rgba(0,0,0,0.8)", 0, 3, 5, this.ang);
			symboSmall(this.symbo, this.fill, this.stroke);
		}else if (this.type === 2){ // sun top
			sunMoved=true;
			setShadow(ctx, "rgba(0,0,0,0.8)", 0, 3, 2, -this.ang);
			symboLarge(this.symbo, this.fill, this.stroke);
		}else if (this.type === 3){ // sun line
			setShadow(ctx, "black", 0, 5, 6, -this.ang);
			const ax = Math.cos(this.dirTo);
			const ay = Math.sin(this.dirTo);
			ctx.rotate(-Math.PI);
				
			ctx.beginPath();
			ctx.lineCap = "square";
			ctx.lineWidth = 28;
			ctx.lineTo(ax * -this.distTo-15, ay * -this.distTo);
			ctx.lineTo(ax * (344-this.distTo), ay * (344-this.distTo));
			ctx.strokeStyle = "#232323";
			ctx.stroke();
			ctx.closePath();
			
			setShadow(ctx, "rgba(0,0,0,0.7)", 0, 13, 11, -this.ang);
			
			ctx.translate(ax * (406-this.distTo), ay * (406-this.distTo));
			ctx.beginPath();
			ctx.lineWidth = 16;
			ctx.strokeStyle = "#232323";
			ctx.arc(0,0,45,0,2*Math.PI,true);
			ctx.stroke();
			ctx.closePath();
			
			setShadow(ctx, "black", 0, 2, 3, -this.ang);
			
			ctx.beginPath();
			ctx.lineWidth = 2;
			ctx.strokeStyle = "#d4af37";
			ctx.arc(0,0,45,0,2*Math.PI,true);
			ctx.stroke();
			ctx.closePath();
			ctx.translate(ax * -(406-this.distTo), ay * -(406-this.distTo));
			
			setShadow(ctx, "rgba(0,0,0,0)", 0, 0, 0, 0);
			ctx.beginPath();
			ctx.lineCap = "square";
			ctx.lineWidth = 30;
			ctx.lineTo(ax * -this.distTo-15, ay * -this.distTo);
			ctx.lineTo(ax * (341-this.distTo), ay * (341-this.distTo));
			ctx.strokeStyle = "#232323";
			ctx.stroke();
			ctx.closePath();
			
			setShadow(ctx, "black", 0, 2, 3, -this.ang);
			
			ctx.beginPath();
			ctx.lineCap = "round";
			ctx.lineWidth = 4;
			ctx.lineTo(ax * -this.distTo-10, ay * -this.distTo);
			ctx.lineTo(ax * (356-this.distTo), ay * (356-this.distTo));
			ctx.strokeStyle = "#d4af37";
			ctx.stroke();
			ctx.closePath();
			
			ctx.beginPath();
			ctx.lineCap = "butt";
			ctx.lineTo(ax * (520-this.distTo), ay * (520-this.distTo));
			ctx.lineTo(ax * (533-this.distTo), ay * (533-this.distTo));
			ctx.strokeStyle = "#375CD4";
			ctx.lineWidth = 7;
			ctx.stroke();
			ctx.closePath();
			
		}else if (this.type === 4){ // earth  line
			setShadow(ctx, "black", 0, 4, 5, -this.ang);
			ctx.beginPath();
			ctx.lineCap = "round";
			ctx.lineWidth = 20;
			ctx.lineTo(0, 0);
			ctx.lineTo(445, 0);
			ctx.strokeStyle = "#232323";
			ctx.stroke();
			ctx.closePath();
			ctx.beginPath();
			setShadow(ctx, "black", 0, 1, 2, -this.ang);
			ctx.lineCap = "round";
			ctx.lineWidth = 2;
			ctx.lineTo(0, 0);
			ctx.lineTo(452, 0);
			ctx.strokeStyle = "#d4af37";
			ctx.stroke();
			ctx.closePath();
			ctx.beginPath();
			ctx.lineCap = "butt";
			ctx.lineWidth = 7;
			ctx.lineTo(520, 0);
			ctx.lineTo(533, 0);
			ctx.strokeStyle = "#375CD4";
			ctx.stroke();
			ctx.closePath();
		}else if (this.type === 9){ //  lunar phaze
			setShadow(ctx, "rgba(0,0,0,0.8)", 0, 5, 7, -this.ang);
			ctx.beginPath();
			ctx.lineCap = "butt";
			ctx.lineWidth = 34;
			ctx.strokeStyle = "#232323";
			ctx.arc(0,0,36,0,2*Math.PI,true);
			ctx.stroke();
			ctx.closePath();
			setShadow(ctx, "black", 0, 2, 1, -this.ang);
			symboMoon(this.symbo, "#d4af37");
		}
		if (this.dirTo !== undefined && (this.type ==5 || this.type === 6)) {// planet, lunar, node lines
			const ax = Math.cos(this.dirTo);
			const ay = Math.sin(this.dirTo);
			ctx.rotate(-Math.PI);
			if(this.type === 5){ // moon & nodes line
					ctx.beginPath();
					ctx.lineWidth = 8;
					setShadow(ctx, "rgba(0,0,0,0.8)", 0, 3, 5, -this.ang);
					ctx.lineCap = "round";
					ctx.lineTo(0, 0);
					ctx.lineTo(ax * 28, ay * 28);
					ctx.strokeStyle = "#232323";	
					ctx.stroke();
					ctx.closePath();
					ctx.beginPath();
					ctx.lineWidth = 1;
					setShadow(ctx, "rgba(0,0,0,0)", 0, 0, 0, 0);
					ctx.lineCap = "round";
					ctx.lineTo(0, 0);
					ctx.lineTo(ax * 30, ay * 30);
					ctx.strokeStyle = "#d4af37";
					ctx.stroke();
					ctx.closePath();
			} else if (this.type === 6 && sunMoved==true) {  // planets lines

				setShadow(ctx, "rgba(0,0,0,0.8)", 0, 6, 9, -this.ang);
				
				ctx.beginPath();
				ctx.lineWidth = 10;
				ctx.lineTo(0, 0);
				ctx.lineCap = "square";
				ctx.lineTo(this.dist, 0);
				ctx.strokeStyle = "#232323";
				ctx.stroke();
				ctx.closePath();
				
				setShadow(ctx, "rgba(0,0,0,0)", 0, 0, 0, 0);
				
				ctx.lineWidth = 1;
				ctx.lineTo(0, 0);
				ctx.lineCap = "square";
				ctx.lineTo(this.dist, 0);
				ctx.strokeStyle = "#d4af37";
				ctx.stroke();
				ctx.closePath();
				
				setShadow(ctx, "rgba(0,0,0,0.8)", 0, 6, 9, -this.ang);
				
				ctx.beginPath();
				ctx.lineWidth = 12;
				ctx.lineTo(this.dist, 0);
				ctx.lineCap = "square";
				ctx.lineTo(this.dist/3, 0);
				ctx.strokeStyle = "#232323";
				ctx.stroke();
				ctx.closePath();
				
				setShadow(ctx, "rgba(0,0,0,0)", 0, 0, 0, 0);
				
				ctx.beginPath();
				ctx.lineWidth = 2;
				ctx.lineTo(this.dist, 0);
				ctx.lineCap = "square";
				ctx.lineTo(this.dist/3, 0);
				ctx.strokeStyle = "#d4af37";
				ctx.stroke();
				ctx.closePath();
				
				setShadow(ctx, "rgba(0,0,0,0.8)", 0, 6, 9, -this.ang);
				
				ctx.beginPath();
				ctx.lineWidth = 14;
				ctx.lineTo(this.dist, 0);
				ctx.lineCap = "square";
				ctx.lineTo(this.dist/2, 0);
				ctx.strokeStyle = "#232323";
				ctx.stroke();
				ctx.closePath();
				
				setShadow(ctx, "rgba(0,0,0,0)", 0, 0, 0, 0);
				
				ctx.beginPath();
				ctx.lineWidth = 4;
				ctx.lineTo(this.dist-55, 0);
				ctx.lineCap = "square";
				ctx.lineTo(this.dist/2, 0);
				ctx.strokeStyle = "#d4af37";
				ctx.stroke();
				ctx.closePath();
				
				setShadow(ctx, "rgba(0,0,0,0.9)", 0, 3, 5, -this.ang);
				
				ctx.beginPath();
				ctx.lineWidth = 16;
				ctx.lineTo(this.dist+40, 0);
				ctx.lineCap = "round";
				ctx.lineTo(this.dist-40, 0);
				ctx.strokeStyle = "#d4af37";
				ctx.stroke();
				ctx.closePath();

				setShadow(ctx, "rgba(0,0,0,0.8)", 0, 4, 5, -this.ang);
				ctx.beginPath();
				ctx.lineCap = "round";
				ctx.lineWidth = 8;
				ctx.lineTo(ax * 28, ay * 28);
				ctx.lineTo(0, 0);
				ctx.strokeStyle = "#232323";
				ctx.stroke();
				ctx.closePath();
				
				setShadow(ctx, "rgba(0,0,0,0)", 0, 0, 0, 0);
				
				ctx.beginPath();
				ctx.lineCap = "round";
				ctx.lineWidth = 1;
				ctx.lineTo(ax * 30, ay * 30);
				ctx.lineTo(0, 0);
				ctx.strokeStyle = "#d4af37";
				ctx.stroke();
				ctx.closePath();
			
			}
			ctx.beginPath();
			setShadow(ctx, "black", 0, 1, 2, -this.ang);
			ctx.lineCap = "butt";
			ctx.lineWidth = 7;
			ctx.lineTo(ax * (520-this.distTo), ay * (520-this.distTo));
			ctx.lineTo(ax * (533-this.distTo), ay * (533-this.distTo));
			ctx.strokeStyle = "#375CD4";
			ctx.stroke();
			ctx.closePath();
		}
		
	},
	directionTo(planet) {
		if (planet !== this) {
			this.dirTo =  Math.atan2(planet.y - this.y, planet.x - this.x) - this.ang;
			this.distTo = Math.hypot(planet.y - this.y, planet.x - this.x);
		} else {
			this.dirTo = undefined;
		}
	}
	
};
const planet = (idnum, name, orbitsName, dist, orbitalSpeed, startAng, fill, stroke, type, maxDist, symbo) => {
    planets.push(solSystem[name] = {
        orbits: solSystem[orbitsName],
        dist,
        orbitalSpeed,
        startAng,
        fill,
		stroke,
		type,
		maxDist,
        symbo,
        idnum,
        ...planetCommon,
     });
};


var sunPosD = findAngle(gateLineObject,52.1),
	merPosD = findAngle(gateLineObject,35.3),
	venPosD = findAngle(gateLineObject,52.3),
	mooPosD = findAngle(gateLineObject,16.6),
	nnoPosD = findAngle(gateLineObject,44.5),
	marPosD = findAngle(gateLineObject, 4.5),
	jupPosD = findAngle(gateLineObject,23.3),
	satPosD = findAngle(gateLineObject,31.1),
	uraPosD = findAngle(gateLineObject,28.2),
	nepPosD = findAngle(gateLineObject, 5.1),
	pluPosD = findAngle(gateLineObject,18.6);

planet(1, "SunLine",          undefined,    0,          1,         sunPosD,  "#d4af37", "#232323",    3, 0);
planet(4, "EarthLine",        "SunLine",   128,         1, sunPosD+Math.PI,  "#375CD4", "#232323",    4, 0);
planet(7, "NorthNodeLine",  "EarthLine",    70,   -0.0537,         nnoPosD,  "#d4af37", "#232323",    5, 0);
planet(8, "SouthNodeLine",  "EarthLine",    70,   -0.0537, nnoPosD-Math.PI,  "#d4af37", "#232323",    5, 0);
planet(13,"PlutoLine",        "SunLine",   430,     0.004,         pluPosD,  "#d4af37", "#232323",    6, 430);
planet(12,"NeptuneLine",      "SunLine",   395,    0.0061,         nepPosD,  "#d4af37", "#232323",    6, 395);
planet(11,"UranusLine",       "SunLine",   360,    0.0119,         uraPosD,  "#d4af37", "#232323",    6, 360);
planet(10,"SaturnLine",       "SunLine",   325,    0.0339,         satPosD,  "#d4af37", "#232323",    6, 325);
planet(9, "JupiterLine",      "SunLine",   290,    0.0842,         jupPosD,  "#d4af37", "#232323",    6, 290);
planet(5, "MarsLine",         "SunLine",   255,    0.5312,         marPosD,  "#d4af37", "#232323",    6, 255);
planet(3, "VenusLine",        "SunLine",  92.49,   1.6243,         venPosD,  "#d4af37", "#232323",    6, 0);
planet(2, "MercuryLine",      "SunLine",  50.65,   4.1477,         merPosD,  "#d4af37", "#232323",    6, 0);
planet(6, "MoonLine",       "EarthLine",    35,     13.37,         mooPosD,  "#d4af37", "#232323",    5, 0);

planet(1, "Sun",              undefined,     0,         1,         sunPosD,  "#d4af37", "#232323",    2, 0,   sunSym);
planet(9, "EarthLunar",       "SunLine",   128,         1, sunPosD+Math.PI,  "#d4af37", "#232323",    9, 0,   earLunSym);
planet(7, "NorthNode",      "EarthLine",    70,   -0.0537,         nnoPosD,  "#d4af37", "#232323",    7, 0,   nnodeSym);
planet(8, "SouthNode",      "EarthLine",    70,   -0.0537, nnoPosD-Math.PI,  "#d4af37", "#232323",    7, 0,   snodeSym);
planet(13,"Pluto",            "SunLine",   430,     0.004,         pluPosD,  "#d4af37", "#232323",    1, 430, plutoSym);
planet(12,"Neptune",          "SunLine",   395,    0.0061,         nepPosD,  "#d4af37", "#232323",    1, 395, nepSyn);
planet(11,"Uranus",           "SunLine",   360,    0.0119,         uraPosD,  "#d4af37", "#232323",    1, 360, uraSyn);
planet(10,"Saturn",           "SunLine",   325,    0.0339,         satPosD,  "#d4af37", "#232323",    1, 325, satSyn);
planet(9, "Jupiter",          "SunLine",   290,    0.0842,         jupPosD,  "#d4af37", "#232323",    1, 290, jupSyn);
planet(5, "Mars",             "SunLine",   256,    0.5312,         marPosD,  "#d4af37", "#232323",    1, 255, marSyn);
planet(3, "Venus",            "SunLine", 92.49,    1.6243,         venPosD,  "#d4af37", "#232323",    1, 0,   venSyn);
planet(2, "Mercury",          "SunLine", 50.65,    4.1477,         merPosD,  "#d4af37", "#232323",    1, 0,   merSyn);
planet(6, "Moon",           "EarthLine",    35,     13.37,         mooPosD,  "#d4af37", "#232323",    7, 0,   mooSyn);
planet(4, "Earth",            "SunLine",   128,         1, sunPosD+Math.PI,  "#d4af37", "#232323",    1, 0,   earSyn);

function centerOn(cx, cy, planet) {
	globalMatrix[4] = cx - planet.x;
    globalMatrix[5] = cy - planet.y;
}
function symboMoon(path,fill){
	ctx.translate(-50,-50);
	ctx.scale(1.25, 1.25);
	ctx.fillStyle = fill;
	var p = new Path2D(path);
	ctx.fill(p);
}
function symboSmall(path,fill,stroke,angle){
	ctx.rotate(angle);
	ctx.translate(-15,-15);
	ctx.scale(1.5, 1.5);
	ctx.strokeStyle = stroke;
	ctx.lineWidth = 3;
	ctx.fillStyle = fill;
	var p = new Path2D(path);
	ctx.stroke(p);
	ctx.fill(p);
}
function symbo(path,fill,stroke,angle){
	ctx.rotate(angle);
	ctx.translate(-18,-18);
	ctx.scale(1.8, 1.8);
	ctx.strokeStyle = stroke;
	ctx.lineWidth = 3;
	ctx.fillStyle = fill;
	var p = new Path2D(path);
	ctx.stroke(p);
	ctx.fill(p);
}
function symboLarge(path,fill,stroke){
	ctx.translate(-22,-22);
	ctx.scale(2.2, 2.2);
	ctx.strokeStyle = stroke;
	ctx.lineWidth = 4;
	ctx.fillStyle = fill;
	var p = new Path2D(path);
	ctx.stroke(p);
	ctx.fill(p);
}
function setShadow(ctx, fill, ox, oy, blur, angle) {
	ctx.rotate(angle);
	ctx.shadowColor = fill;
	ctx.shadowOffsetX = ox;
	ctx.shadowOffsetY = oy;
	ctx.shadowBlur = blur;
	ctx.rotate(-angle);
}
function findAngle(gateLineObject, gate) {

  for (var i = 0; i < Object.keys(gateLineObject).length; i++) {
    if (gateLineObject[i].gate == gate) {
      return gateLineObject[i].angle+Math.PI;
    }
  }
}
function findGate(gateLineObject, targetNumber) {
  var closestAngle = 0;
  var closestAngleDifference = Math.abs(targetNumber - gateLineObject[0].angle);
  for (var i = 0; i < Object.keys(gateLineObject).length; i++) {
    var currentAngleDifference = Math.abs(targetNumber - gateLineObject[i].angle);
    if (currentAngleDifference < closestAngleDifference) {
      closestAngleDifference = currentAngleDifference;
      closestAngle = gateLineObject[i].gate;
    }
  }
  return closestAngle;
}
function mainLoop(time) {

    time /= 1000;
    ctx.setTransform(1, 0, 0, 1, 0, 0);
    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
    planets.forEach(planet => planet.update(time));
    planets.forEach(planet => planet.directionTo(solSystem[centerOnPlanetName]));
    centerOn(ctx.canvas.width * 0.5, ctx.canvas.height * 0.5, solSystem[centerOnPlanetName]);
    planets.forEach(planet => planet.draw(ctx, globalMatrix));
    requestAnimationFrame(mainLoop);
}



	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
function isScrolledIntoView(elem)
{
    var docViewTop = $(window).scrollTop();
    var docViewBottom = docViewTop + $(window).height();

    var elemTop = $(elem).offset().top;
    var elemBottom = elemTop + $(elem).height();

    return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));
}
function Utils() {

}

Utils.prototype = {
    constructor: Utils,
    isElementInView: function (element, fullyInView) {
        var pageTop = $(window).scrollTop();
        var pageBottom = pageTop + $(window).height();
        var elementTop = $(element).offset().top;
        var elementBottom = elementTop + $(element).height();

        if (fullyInView === true) {
            return ((pageTop < elementTop) && (pageBottom > elementBottom));
        } else {
            return ((elementTop <= pageBottom) && (elementBottom >= pageTop));
        }
    }
};

var Utils = new Utils();

</script>
</body>
</html>